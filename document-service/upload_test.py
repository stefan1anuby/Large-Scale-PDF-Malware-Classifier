import requests
import time

def upload_file(api_url, file_path, token=None):
    
    with open(file_path, 'rb') as file:
        headers = {'Authorization': token} if token else {}
        file = {'file': (file_path, file)}
        response = requests.post(api_url, files=file, headers=headers)
        
        return response

# Example usage
api_url = 'http://localhost:8110/upload' # Replace with the actual API URL
file_path = 'C:\\Users\\Stefan Popa\\Downloads\\test.pdf' # Replace with the actual file path
token = 'YourAPIToken' # Replace with your actual token, if needed

start_time = time.time()
response = upload_file(api_url, file_path, token)
end_time = time.time()
print("Request completed in {:.2f} seconds.".format(end_time - start_time))

print(response.status_code)
print(response.json())
